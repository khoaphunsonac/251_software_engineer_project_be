# ======================
# CẤU HÌNH MẶC ĐỊNH / DEV (chạy local)
# ======================
server:
  port: 8081
  error:
    include-message: always
    include-binding-errors: always
    include-exception: false
    include-stacktrace: never

spring:
  profiles:
    active: dev          # Khi chạy local: dùng profile dev
  datasource:
    url: jdbc:mysql://localhost:3307/tutor_system?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC&useUnicode=true&characterEncoding=UTF-8
    username: root
    password: admin123
  jpa:
    database-platform: org.hibernate.dialect.MySQL8Dialect
    hibernate:
      ddl-auto: update
      show-sql: true
      jdbc:
        time_zone: UTC
  servlet:
    multipart:
      max-file-size: 100MB
      max-request-size: 100MB
  jackson:
    serialization:
      write-dates-as-timestamps: false

app:
  jwt:
    secret: gixcprMftqxTdjUeWJ0dvTrAqoUPjcROc2U8YRiWbX0=
    expiration: 43200000

---
# ======================
# CẤU HÌNH KHI CHẠY PROFILE "docker"
# (API + MySQL trong Docker network)
# ======================
spring:
  config:
    activate:
      on-profile: docker      # Khi SPRING_PROFILES_ACTIVE=docker thì block này được apply
  datasource:
    url: jdbc:mysql://mysql:3306/tutor_system?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC&useUnicode=true&characterEncoding=UTF-8
    username: root
    password: admin123
